<!DOCTYPE html>
<html lang='en'>

<head>

<title>California Report Card</title>

<!-- for best viewing on mobile phones -->
<meta name='viewport' content='user-scalable=no, width=device-width,initial-scale=1, maximum-scale=1' />

<!-- CSS stylesheets -->
<link rel='stylesheet' type='text/css' href='./../media/mobile/css/reset.css' />
<link rel='stylesheet' type='text/css' href='./../media/mobile/bootstrap/css/bootstrap-responsive.min.css' />
<link rel='stylesheet' type='text/css' href='http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.css' />
<link rel='stylesheet' type='text/css' href='./../media/mobile/css/themes/cafe_jquery.css'/>
<link rel='stylesheet' type='text/css' href='http://fonts.googleapis.com/css?family=Belleza'/>
<link href="./../media/mobile/css/jquery.nouislider.min.css" rel="stylesheet">
<link rel='stylesheet' type='text/css' href='./../media/mobile/css/opinionspace.css' />

<!-- JavaScript -->
<script type='text/javascript' src='http://code.jquery.com/jquery-1.9.1.js'></script>
<script src="./../media/mobile/js/jquery.nouislider.min.js"></script>
<script type='text/javascript' src='./../media/mobile/js/csrf-ajax.js'></script>
<script type='text/javascript' src='http://d3js.org/d3.v2.min.js'></script>
<script src="./../media/mobile/js/d3-timeline.js"></script>
<script type='text/javascript' src='./../media/mobile/js/blooms.js'></script>
<script type='text/javascript' src='./../media/mobile/js/rate.js'></script>
<script type='text/javascript' src='./../media/mobile/js/accounts.js'></script>
<script type='text/javascript' src='./../media/mobile/js/utils.js'></script>
<script type='text/javascript' src='http://code.jquery.com/mobile/1.3.1/jquery.mobile-1.3.1.min.js'></script>
<script type="text/javascript" src="http://www.google.com/jsapi"></script>
<script type='text/javascript' src='./../media/mobile/js/stats.js'></script>

<!--Java script that needs to be run on init-->
<script type='text/javascript'>
  window.url_root = '{{ url_root }}';
  window.sliders = [];
  window.registration_in_progress = false;
  window.num_sliders = {{ statements|length }};
  window.conf = { 'SCORE_SCALE_FACTOR'  : {{ client_settings.SCORE_SCALE_FACTOR }},
  'YOUR_SCORE_LANGUAGE' : "Your Score",
  'INSTRUCTIONS_3'      : "{{ client_settings.INSTRUCTIONS_3 }}",
  'FUN_COLORS'          : {{ client_settings.FUN_COLORS }},
  'RETURNING_PROMPT_REPORT_CARD': {{returning_prompt_report_card}}
};

// TURNING OFF ALL AJAX
$.ajaxSetup({
  async: false
});

for (var i = 0; i <= window.num_sliders; i++) {
    window.sliders[i] = 50;
}

jQuery(document).ready(function() {
   $(".endslider-slider").noUiSlider({
    range: [0, 100],
    start: 50,
    step: 5,
    handles: 1,
    connect: false,
    behaviour: "none",
    slide: function() {
      var id = $(this).data('statement');
      $('#g' + id).html( score_to_grade( $(this).val() ) ).css('opacity', .3);
    }
  }).change(function () {

   //$(this).attr('disabled', 'disabled');
    var id = $(this).attr('id');
    id = parseInt(id.substring(1, id.length)); // strips the leading 's'
    update_score(id);

  });

  $(".rating-slider").noUiSlider({
    range: [0, 100], start: 50, step: 5, handles: 1,connect: false, behaviour: "none"
  });
  
  var html_label ="<div class='slider-range-labels' style='position: relative; top: 0px;z-index: -1;'><div class='alignleft'>&larr;Very Creative</div><div class='alignright'>Not Creative&rarr;</div></div>";
  $('.rating-slider1 > .noUi-base').append( html_label );
  
    var html_label ="<div class='slider-range-labels' style='position: relative; top: 0px;z-index: -1;'><div class='alignleft'>&larr;Very Beneficial</div><div class='alignright'>Not Beneficial&rarr;</div></div>";
  $('.rating-slider2 > .noUi-base').append( html_label );
  
  $(".change-rating-slider").noUiSlider({
    range: [0, 100], start: 50, step: 5, handles: 1,connect: false, behaviour: "none"

  });
  
  //$(".noUi-target").click(function () {});

  // give the statement sliders some color
  var _grades = {'A' : 5, 'B' : 25, 'C': 50, 'D': 75, 'F' : 96 };
  $.map( _grades, function(position, letter) {
    var span = $('<span>', { style : 'position: absolute; z-index: -1; top: 0px;font-size:12px;font-weight: bold;color: #FFFFFF;', html: letter });
    span.css( 'left', position + '%' );
    $('.endslider-slider > .noUi-base').append( span );
  });
});

stats.setConf("{{ client_settings.AGREEMENT_HISTOGRAM_TEXT }}", 
  "{{ client_settings.LEGEND_AGREEMENT_LEFT }}",
  "{{ client_settings.LEGEND_AGREEMENT_RIGHT }}",
  "{{ client_settings.INSIGHT_HISTOGRAM_TEXT }}",
  "{{ client_settings.LEGEND_INSIGHT_LEFT }}",
  "{{ client_settings.LEGEND_INSIGHT_RIGHT }}");

var finishedStatements=[];

for(var l = 0; l < window.num_sliders; l++) {
    finishedStatements.push(0);
}

var medians = {{ medians|safe }}; 

function score_to_grade(score1) {

  var score = 100 - score1;
  
  if (score == 100)
    return 'A+';
  else if (score > 92)
    return 'A';
  else if (score > 86)
    return 'A-';
  else if (score > 81)
    return 'B+';
  else if (score > 69 )
    return 'B';
  else if (score > 63 )
    return 'B-';
  else if (score > 56 )
    return 'C+';
  else if (score > 44 )
    return 'C';
  else if (score > 38 )
    return 'C-';
  else if (score > 32 )
    return 'D+';
  else if (score > 19 )
    return 'D';
  else if (score == 0 )
    return 'F';
  else
    return 'D-';
}

function statementsComplete() {
  for(var i = 0; i < window.num_sliders; i++) {
    if (finishedStatements[i]==0) {
      return false;
    }
  }
  return true;
}

/** Updates statement number STATEMENT (which is of type number). */
function update_score(statement) {
  $('#g' + statement).css('opacity', 1);
  $('#o' + statement).html(score_to_grade(medians[statement]*100))
  window.sliders[statement] = $('#s' + statement).val();		     
  document.getElementById('tr1'+statement).style.backgroundColor = "rgba(255, 222, 115, 0.3)";
  finishedStatements[statement-1]= 1;
}
</script>

</head>

<body>
  <div class="top-bar" style="display:none;">
   <div class='header'>
    {% if client_settings.HEADER_IMAGE == "true" %}
    <img class="header-img-topic" src={{ client_settings.HEADER_IMAGE_SOURCE }} class="center" style="width:150px;"><br>
    {% endif %}
    Topic: {{ short_topic }}
  </div>

  <div data-role='navbar' class='menubar'>
    <ul>
      <li><a data-theme='b' class='my-comment-btn'><span class='stats-label'>Stats</span></a></li>
      <li><a data-theme='b' class='logout-btn'><span class='logout-label'>Logout</span></a></li>
    </ul>
</div>
  
  <div class="scorebox" style="display: none">
    <span class='score-label'></span><span class='score-value'></span>
  </div>

    <!--<span class='inst-score'><span class='score-label'></span><span class='score-value'></span></span>
    <span class='inst-text'>{{ client_settings.INSTRUCTIONS_1 }}</span>-->
  </div>
  <div class='instructions' style="display:none">Click on a mug to begin</div>

  <div class="margin"><!--<br><br><br><br>--></div>
</div>

<!-- <div class='rate-loading'><img src='img/ajax-loader.gif'>&nbsp; Comment loading...</div> -->
<div class='rate'>
  <!--<div class='header'>Topic: {{ topic }}</div>-->
    <div class="answerwrapper">
      <span class="rate-username"></span>
      <textarea id='commentInput' class='answer' readonly="true" style="overflow-y:scroll !important;"></textarea>              
      <div class='sliders'>
        <div style="text-align: right">
        <a href="#" style="font-size: 11px !important;" id="flag">Inappropriate or Irrelevant?</a>
        <!--<select name="flip-1" id="flip-1" class="flip-1" data-role="slider" data-mini="true" data-theme="a">
	<option value="no">No</option>
	<option value="yes">Yes</option>
        </select>-->
        </div>
            <hr>   
        How creative is this idea?<br/>
        <div style="clear: both;"></div>

        <div id="slider1" class="rating-slider rating-slider1"></div><br/>

        <!--<input data-track-theme='b' data-theme='b' type='range' name='slider1' id='slider1' value='50' min='0' max='100' animate='true'/> -->

        How beneficial is this for your community?<br/>
        <!--<div class="slider-range-labels" style="position: relative; top: 14px;z-index: 2;">
          <div class="alignleft">&larr;Very beneficial</div>
          <div class="alignright">Not beneficial&rarr;</div>
        </div>-->
        <div style="clear: both;"></div>

        <div id="slider2" class="rating-slider rating-slider2"></div><br/>
        
        <!-- <input data-track-theme='b' data-theme='b' type='range' name='slider2' id='slider2' value='50' min='0' max='100' animate='true'/> -->       
        <center>
          <div style="width: 100%;max-width: 300px;">
            <button type='submit' data-theme='b' id='go-back' onClick='rate.doneRating()' data-icon="check"><font size="5">Next</font></button>
          </div>
        </center>
        
      </div>
    </div>

</div>
<div id='rating'>

  <div class='endsliders'>
      <!--<div class ='slider-header'>
        <p>Grade from A to F how well or poorly you feel California's elected officials are working to address the following key issues:</p>
      </div>-->
        <div class='reportcard'>
           <div class="basic-header" style="font-size: 32px;padding-top: 5px;">Grade California's State Government</div>
          <center>
            <div class="rc-sub-header" style="width:95%;text-align: left;padding-bottom:5px;">Drag the yellow handle to grade from A to F how well you feel California's elected officials are working to address the following 6 subjects:</div> 
           
           <table class='cardtable' style="width:95%;color:#FFFFFF;background-color: #04376c;">
            <tr>
              <td style="text-align: center;vertical-align: middle;">
                Subject
              </td>
              <td style="vertical-align:middle;width: 45px;text-align: center;vertical-align: middle;">
                My Grade
              </td>
              <td style="vertical-align:middle;width: 45px;text-align: center;vertical-align: middle;">
                Avg. Grade
              </td>
            </tr>
           </table>

            {% for statement in statements %}
            <table id="tr1{{statement.id}}" class='cardtable' style="width:95%;">
            <tr>
              <td style="height: 45px;">
                {% ifnotequal statement.statement '' %}
                <div class='slider-question'><script>var sid={{statement.id}}-1;var total={{statements|length}};document.write(total-sid);</script>. {{ statement.statement }} </div>
<!--                <p class='slider-question'> {{ statement.statement }} </p>

                <div id="grades" class="slider-agree-labels">
                  <div style="text-align: left;width: 10%;">A<span></span></div>
                  <div style="text-align: center;width: 26.2%;">B<span></span></div>
                  <div style="text-align: center;width: 26.2%;">C<span></span></div>
                  <div style="text-align: center;width: 26.2%;">D<span></span></div>
                  <div style="text-align: right;width: 10%;">F<span></span></div>
          </div>

          <br><div id="s{{statement.id}}" class="endslider-slider"></div>
-->
          {% else %}
          <!--<div style='display:none;'>
              <br><div id="s{{statement.id}}" class="endslider-slider"></div>
             <input type='range' id='s{{statement.id}}' name='s{{statement.id}}' value='50' min='0' max='100' animate='true'/> 
          </div>-->
          {% endifnotequal %}
          <br/>
        </td>
        
        <td style="vertical-align:middle;width: 45px;">
          <div id='g{{statement.id}}' class="grade"></div>
        </td>
        
        <td style="vertical-align:middle;width: 45px;">
          <div id='o{{statement.id}}' class="grade2"></div>
        </td>
        
        
      </tr>
    
      <tr>
        <td colspan="3">
                        {% ifnotequal statement.statement '' %}
                <!-- <div id="grades" class="slider-agree-labels">
                  <div style="text-align: left;width: 10%;">A<span></span></div>
                  <div style="text-align: center;width: 26.2%;">B<span></span></div>
                  <div style="text-align: center;width: 26.2%;">C<span></span></div>
                  <div style="text-align: center;width: 26.2%;">D<span></span></div>
                  <div style="text-align: right;width: 10%;">F<span></span></div>
            <!--<div class="alignleft">&larr; <i>F</i></div>
            <div class="alignright"><i>A+</i> &rarr;</div>--/
          </div> -->
          <!--<div style="clear: both;"></div>-->

          <br><div id="s{{statement.id}}" data-statement="{{statement.id}}" class="endslider-slider statement-slider" style="">

          </div>
          <!-- <input type='range' id='s{{statement.id}}' data-theme="d" name='s{{statement.id}}' class='s{{statement.id}}' value='50' min='0' max='100' step="5" style=""/> -->

          {% else %}
          <div style='display:none;'>
              <br><div id="s{{statement.id}}" data-statement="{{statement.id}}"  class="endslider-slider"></div>
            <!-- <input type='range' id='s{{statement.id}}' name='s{{statement.id}}' value='50' min='0' max='100' animate='true'/> -->
          </div>
          {% endifnotequal %}
          <br/>
          </td>
      </tr>
 </table>
            <br>
      {% endfor %}
          </center>

    <center>
          <div style="width: 100%; max-width: 300px;padding-bottom:30px;">
      <button type='submit' data-theme='b' class='done-endsliders-btn' data-icon="arrow-r"><font size="5">Next</font></button>
    </div> 
    </center>
       

  </div>
</div>
</div>

</div>

<div class='my-comment'>
   <div class='edit-comment-panel'>
    <div class='row'>
      <!--<div class='span6'>
        <br><br>
        <img src='./../media/mobile/img/bloom.png' width='10%'>
      </div>-->
        <div class="basic-header">My Statistics</div>
        <span class='username' style="display: none;"></span>
        <span class='score-label'></span> <span class='score-value'></span><br>
        <span class='num-label'>Idea Rated By:</span> <span class='num-rated-by'></span> Participants<br>
<hr/>
              <div class="basic-header" style="font-size: 22px;">Aggregate Statistics</div>
      <center>
      <div class="aggstat1">
        <br/>
        
        <table style="width: 90%;">
        <tr style="background-color: #04376c;">
          <td>
          <font style="color: #FFFFFF;">
            Subject
          </font>
          </td>
          <td>
          <font style="color: #FFFFFF;">
            Avg. Grade
          </font>
          </td>
        </tr>
       {% for statement in statements %}
       <tr>
        <td>
          {{ statement.statement }}
        </td>
        <td>
          <script>
            document.write(score_to_grade(medians[{{statement.id}}]*100));
          </script>
        </td>
       </tr>
       {%endfor%}
      </table>
      <div style="width:300px;">
        <button data-theme='b' data-icon="arrow-r" onclick="$('.aggstat1').hide();$('.aggstat2').show();">Next</button>
      </div>
      
    </div>          
        
    <div class="aggstat2" style="display:none;">
        Changes in the mug positions<br/>      
    <!--<iframe width="300" height="225" src="//www.youtube.com/embed/Vufcqe7f3hE" frameborder="0" allowfullscreen></iframe>-->
    <canvas id="MugAnimation" width="250" height="200" style="background-image:url('{{ url_root }}/media/mobile/img/cafe/cafe_bg.png');background-repeat:repeat;
			background-size: 100% 100%;	"></canvas>
			
       <div style="width:300px;">
	   <button type="button" onclick="clickreset()" data-mini="true" data-inline="true">Play</button>
           <button type="button" onclick="reset()" data-mini="true" data-inline="true"> Reset</button>
       </div>

       <script type="text/javascript" src="{{ url_root }}/media/mobile/js/timelineMug_animation_json.js"></script> 
    <div style="width:300px;">
     <button data-theme='b' data-icon="arrow-r" onclick="$('.aggstat2').hide();$('.aggstat3').show();">Next</button>
    </div>
    </div>
    
    <div class="aggstat3" style="display:none;">
        California map <br/>
        
    <!--<iframe width="300" height="225" src="//www.youtube.com/embed/hDsu_R2odOA" frameborder="0" allowfullscreen></iframe>-->
    <div style="width:300px;">
    <button data-theme='b'  data-icon="arrow-r" onclick="$('.aggstat3').hide();$('.aggstat1').show();">Next</button>
    </div>
    </div>
    <div style="width:300px;">
      <button type='submit' data-theme='b' class='edit-comment-done-btn'>Back to Discussion</button>
    </div>
      </center>
  </div>      
    
    <div class='comment-region' style="display:none;">
      <div class='comment-text'></div>

      <!--{% if client_settings.ALLOW_EDIT_COMMENT == "true" %}
      <button type='submit' data-theme='b' class='edit-comment-btn'>Change Your Response</button>
      {% endif %}-->


      <br/>
    </div>

    <div class='edit-comment' style='display:none'>
      <textarea class='edit-comment-box'></textarea>
      {% for statement in statements %}
      {% ifnotequal statement.statement '' %}
      <p class='slider-question'> {{ statement.statement }} </p>

<!--
      <div id="grades" class="slider-agree-labels">
        <div style="text-align: left;width: 10%;">A<span></span></div>
        <div style="text-align: center;width: 26.2%;">B<span></span></div>
        <div style="text-align: center;width: 26.2%;">C<span></span></div>
        <div style="text-align: center;width: 26.2%;">D<span></span></div>
        <div style="text-align: right;width: 10%;">F<span></span></div>
            <!--<div class="alignleft">&larr; <i>F</i></div>
            <div class="alignright"><i>A+</i> &rarr;</div>--/
          </div>
          <div style="clear: both;"></div>
          -->
          
            <div id="c{{statement.id}}" class="change-rating-slider"></div>

          <!-- <input type='range' id='c{{statement.id}}' name='s{{statement.id}}' value='50' min='0' max='100' animate='true' data-highlight="true" onchange=""/><hr> -->

          {% else %}
          <div style='display:none;'>
            <div id="c{{statement.id}}" class="change-rating-slider"></div>

            <!-- <input type='range' id=cs{{statement.id}}' name='s{{statement.id}}' value='50' min='0' max='100' animate='true'/><hr> -->
          </div>
          {% endifnotequal %}
          {% endfor %}
          <button data-theme='b' class='edit-comment-save-btn'>Save</button>
          <button data-theme='b' class='edit-comment-cancel-btn'>Cancel</button>
          <br/>
        </div>

      </div>

  </div>

  <div class='stats'>
    <div class='row' style='text-align:center;'>
      <!--<div class='span6'>
        <img src='./../media/mobile/img/bloom.png' width='10%' alt='bloom'>
      </div>-->
      <div class='span6'>
        <br>
        <strong>Username:</strong><span class='username'></span><br>
        <strong><span class='score-label'></span></strong> <span class='score-value'></span><br>
        <strong>Idea Rated By: </strong><span class='num-rated-by'></span> Participants<br>
      </div>
    </div>
    <hr>

    <div class='graphs-wrap' style='text-align:center;'>

      <div class='graphs-insufficient' style='display:none;'>You can see a graph of the ratings you've received after you have been rated by 5 people.<br>
        Now please rate more mugs to earn more points.  Just click Done and choose any mugs..."</div>

        <div class='graphs'>
          <strong>Ratings Received</strong>
          <div class='row' style='text-align:center;'>
            <div id='graph-1' class='span6'></div>
            <div id='graph-2' class='span6'></div>
          </div>
        </div>
      </div>    
      <br>
      <div id="timeline"></div>
      <br>
      {% if client_settings.LEADERBOARD_ENABLED == "true" %}
      <button data-theme='b' onClick="$('.leaderboard').slideDown();">Leaderboard</button>
      {% endif %}
      <button data-theme='b' class="stats-done-btn">Back</button>
    </div>

    <div class='leaderboard'>
      <br><br>
      <center><h1>Leaderboard</h1></center>

      <table class='pretty'>
        <tr>
          <th>Username</th><th>Points</th>
        </tr>
        {% for leader in leaderboard%}
        <tr>
          <td>{{ leader.username }}</td><td> {{ leader.total_score|add:'0' }}</td>
        </tr>
        {% endfor %}
      </table>

      <br><br>
      <button data-theme='b' onClick="$('.leaderboard').slideUp();">Back</button>

    </div>

    <div id='d3'>
      <!--    <div class='loading'><img src='img/ajax-loader-gray.gif'>&nbsp; Loading opinions...</div>-->
    </div>

    <!-- it is important for the frame to be after the d3 div -->
    <div class='frame'></div>
    <div class = 'register' id='register'>
      <!--<div class = 'reg-header'>{{ client_settings.INSTRUCTIONS_5 }}</div>-->
      
        <div class= 'registerpanel'>
            <div class="basic-header" style="font-size: 30px;padding-top: 5px;padding-bottom: 0px; width: 100%">To save your grades and join the discussion, just enter your zip code</div>
          <br>
          <form id='reg_form' class='form-horizontal' method='post' action='{{ url_root }}/accountsjson/register/' style="width: 95%; padding-left: 5px;">
            <input type='hidden' value='{{ topic }}' name='question'>
            <input type='hidden' value='{{ url_root }}' name='url'>
              
            <div data-role="fieldcontain" style="display: none;">
             <label for="regusername" class='regforminput'>Email:</label>
             <input type="hidden" id='regusername' name='regusername' class='regforminput' value='{{ random_username }}' placeholder="Email" data-theme="b"/>
             <div class='alert-error' id='username-error' style='display:none;'></div>
            </div>

           <div data-role="fieldcontain" style='display:none;'>
            <label for="regpassword1" class='regforminput' style="display: none;">Password:</label>
            <input type ='hidden' id='regpassword1' name='regpassword1' class='regforminput' value='{{ random_password }}' placeholder="Password">
            <div class='alert-error' id='password-error'></div>
          </div>

          <div data-role="fieldcontain">
            <input type ='tel' id='regzip' name='regzip' class='regforminput' value="" placeholder="Zip Code" onblur="$('#reg_form').submit();">
            <div class='alert-error' id='zipcode-error' style='display:none;'></div>
          </div>

<!--        <label>Age Group:  </label>   
            <select>
            <option>18-25</option>
            <option>26-35</option>
            <option>36-45</option>
            <option>46-55</option>
            <option>56-65</option>
            <option>66+</option>
            </select>
            
            <label>Gender:  </label>    
            <select>
            <option>Male</option>
            <option>Female</option>
            </select>
    -->

      <!--<div style="display: none;">
        <input type='submit' value='Save and Join' id='finishRegistration' data-theme="a" data-icon="check" class="regFormSubmit">
      </div>-->
      
      <center>
        <div style="width: 100%; max-width: 300px;" onclick="document.getElementById('registerb').focus();">
        <button type='submit' data-theme='b' data-icon='check' id="registerb"><font size="5">Save and Join</font></button>
       </div>
      </center>


<!--       <img src="{{url_root}}/media/mobile/img/cafe/discuss.png" style="width: 200px;"/><br/>
      After you submit your grades, you will join a discussion about the California government. -->
  </form>
  <br/>
</div>
</div>

<div class='comment-input'>
  <!--<div class = 'reg-header'>{{ client_settings.INSTRUCTIONS_6 }}</div>-->
    <div class='comment-panel'>
        <div style="font-size: 16px;padding-left: 7px;padding-right: 7px;font-family: futura, verdana, sans-serif;line-height:16px;">In what specific way would <u>YOU</u> recommend that California invest the current budget surplus?
        <textarea name='answer' id='entered-comment' style="width: 300px !important;height: 130px !important;font-size: 16px;"> </textarea>
        </div>

        <div style="padding-left: 7px;width: 300px;padding-bottom:15px;font-size:12px;color: #888888;">
        <input type="email" id='regemail' name='regemail' style="font-size: 16px !important;" placeholder="Email (Optional)" data-theme="b" onblur="$('.comment-submit-btn').click();"/>
        You can receive periodic updates by email about how the discussion has changed. <a href="http://opinion.berkeley.edu/privacy.html" target="_blank">Privacy Policy</a>
        <button type='submit' data-theme='b' class='comment-submit-btn' data-icon='check'><font size="5">Save</font></button>
      </div>
        
  </div>
</div>

<div class='login' id='login'>

  <!--<div class='login-header'>Please Login</div>-->
  <div class="basic-header">About The Project</div>
Under Construction<br/>
The Citizen Report Card for California is a new UC Berkeley project in collaboration with the CITRIS Data & Democracy Initiative that integrates our CAFE technology into a mobile phone platform that allows Californians to grade (from A to F) how well they feel California's elected officials are working to address 6 key subjects.  The interface is designed to track changes over time and to encourage online dialogues about key issues. 

    <div style="width: 100%; max-width: 150px; padding-top:5px;">
      <button data-theme='c' class='login-form-go-back' data-icon="arrow-l" data-mini="true">Back</button>
  </div>
    
    <div class="loginpanel" style="display: none;">
            
      <div class="basic-header">Welcome Back</div>
      
      <div class='alert-error' id='login-error' style='display:none;'>
        Please check your username and password and try again.
      </div>

      <form id='login_form'>
        <br>
        <p class="regforminput">Email</p>
        <input type='text' name='username' class="regforminput" placeholder="Email">
        <p class="regforminput">Password</p>
        <input type='password' name='password' class="regforminput" placeholder="Password">
        <!-- <button type='submit' data-theme='b' id='login-button'>Login</button>  -->
        <center>
          <div style="width: 100%; max-width: 300px;">
            <button type='submit' data-theme='b' data-icon="forward"><font size="5">Login</font></button>              
          </div>
        </center>

      </form>

    </div>
  </center>

</div>

</div>

<div class='logout'>
    <div class='landing-intro'>
      <div class='landing-header'>
        Thank you for participating!
      </div>

      {% if client_settings.HEADER_IMAGE == "true" %}
      <img class="header-img-topic" src={{ client_settings.HEADER_IMAGE_SOURCE }} class="center" style="width:150px;"><br>
      {% endif %}
    </div>
    
      <div class='landing-desc'>
        <center>
        <div style="width: 100%; max-width: 300px;text-align:left;">
        <button data-theme='b' class='logout-start-over'><font size="5">Start Over</font></button>
        <button data-theme='b' class='logout-login-again'><font size="5">Login again?</font></button>
        </div>
        </center>
      </div>
    
</div>

<div class='landing'>
    <div class='landing-intro'>
      <div class='landing-header'>
        California<br/>Report Card
      </div>
  </div>
      <div class='landing-desc'>
        <center>
        <div style="width: 100%; max-width: 300px;text-align:left;">
        Grade and discuss the California government<br/>
        <button type='submit' data-theme='b' class='first-time-btn' data-icon="star"><font size="5">Enter</font></button>
        <button type='cancel' data-theme='b' class='login-btn' data-icon="info"><font size="5">About</font></button>
         </div>
        </center>
      </div>
</div>

<div class='dialog' style="display: none;">
    <div class='dialog-text1'>
      <center>
      <div class="basic-header" style="width:100%;">The Discussion</div>
      <img class="header-img-topic" src="{{ url_root }}/media/mobile/img/cafe/map_teaser.png" class="center" style="width:150px;padding-top:3px;padding-bottom: 3px;"><br>
      </center>
      The discussion topic is:<br/><strong>"{{ topic }}"</strong>
      <center>
      <div style="width: 150px;">
        <button type='submit' data-theme='b' class='dialog-next' data-icon="arrow-r" onclick="$('.dialog-text1').hide();$('.dialog-text2').show();">Next</button>
      </div>
      </center>
    </div>

    <div class='dialog-text2' style="display:none;">
      <center>
      <div class="basic-header" style="width:100%;">The Discussion</div>
      <img class="header-img-topic" src="{{ url_root }}/media/mobile/img/cafe/cafe_click_idea.jpg" class="center" style="width:200px;padding-top:3px;"><br>
      </center>
      Each mug represents a participant's response to the discussion topic.
      <center>
      <div style="width: 150px;">
        <button type='submit' data-theme='b' class='dialog-ready' data-icon="arrow-r">Next</button>
      </div>
      </center>
    </div>
        
    <!--<div class='dialog-text3' style="display:none;">
      <button type='submit' data-theme='b' data-icon="star">The Discussion</button>
      <img class="header-img-topic" src="{{ url_root }}/media/mobile/img/cafe/rating_teaser.png" class="center" style="width:250px;"><br>
      You can evaluate a participant's response on two sliders.
      After rating two responses, you can leave a response of your own.
      As you rate more responses and other participants rate you, you will earn points.
      <div style="width: 150px;">
        <button type='submit' data-theme='b' class='dialog-ready' data-icon="check">Ready!</button>
      </div>
    </div>-->
</div>

<div class='dialog-score' style="display: none;">
    <div class='dialog-score-text1'>
      <br/>
      <center>
        <div class="scorebox-fake" style="width: 200px;">
          Your Score: 100
        </div>
      <!--<div style="width:100%;font-size:32px;">Earning Points</div>-->
      <!--<img class="header-img-topic" src="{{ url_root }}/media/mobile/img/cafe/points_teaser.png" class="center" style="width:200px;padding-top:3px;"><br>-->
      </center>
      You earn points by rating others and when others rate your idea.
      Rate one more person's idea before entering your own...
      <center>
      <div style="width: 150px;">
        <button type='submit' data-theme='b' class='dialog-score-ready' data-icon="arrow-r">Next</button>
      </div>
      </center>
    </div>
</div>

<div class='dialog-yourmug' style="display: none;">
    <div class='dialog-yourmug-text1'>
      <center>
      <div class="basic-header" style="width:100%;">Your Mug</div>
      <img class="header-img-topic" src="{{ url_root }}/media/mobile/img/cafe/yourmug-teaser.png" class="center" style="width:150px;padding-top:3px;"><br>
      </center>
      To enter your own idea, click on your mug (highlighted in yellow).<br/>
      <center>
      <div style="width: 150px;">
        <button type='submit' data-theme='b' class='dialog-yourmug-ready' data-icon="arrow-r">Next</button>
      </div>
      </center>
    </div>
</div>

<div class='dialog-continue' style="display: none;">
    <div class='dialog-continue-text1'>
      <center>
      <div class="basic-header" style="width:100%;">Response Saved!</div>
      <!--<img class="header-img-topic" src="{{ url_root }}/media/mobile/img/cafe/continue_teaser.png" class="center" style="width:150px;padding-top:3px;"><br>-->
      </center>
      Continue to read and evaluate other's ideas to earn more points.
      You can see detailed statistics in the stats page.
      <center>
      <div style="width: 150px;">
        <button type='submit' data-theme='b' class='dialog-continue-ready' data-icon="arrow-r">Next</button>
      </div>
      </center>
    </div>
</div>

<div class='about-vis' style="display: none;">
  <div class='dialog-continue-text1'>
      <center>
      <div class="basic-header" style="width:100%;">Response Saved!</div>
      <img class="header-img-topic" src="{{ url_root }}/media/mobile/img/cafe/map_teaser.png" class="center" style="width:150px;padding-top:3px;"><br>
      </center>
      Continue to read and evaluate other's ideas to earn more points.
      You can see detailed statistics in the stats page.
      <center>
      <div style="width: 150px;">
        <button type='submit' data-theme='b' class='dialog-continue-ready' data-icon="arrow-r">Next</button>
      </div>
      </center>
    </div>
</div>

</div>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-34341740-14', 'citizenreportcard.org');
  ga('send', 'pageview');

</script>
</body>
</html>
